<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Monthly Calendar Tracker</title>
  <link rel="stylesheet" href="calendar.css">
</head>
<body>
  <div class="app-container">
    <header class="calendar-header">
      <button class="nav-btn" id="prevMonth" aria-label="Previous month">‹</button>
      <div class="header-content">
        <h1 id="monthDisplay">January 2024</h1>
        <div class="person-of-month-display" id="personOfMonthDisplay">
          <!-- Person of the month will be displayed here -->
        </div>
        <div class="connection-status" id="connectionStatus">
          <!-- Connection status will be displayed here -->
        </div>
      </div>
      <button class="nav-btn" id="nextMonth" aria-label="Next month">›</button>
    </header>
    
    <section class="participants-section">
      <h2>Participants</h2>
      <div class="participant-inputs" id="participantInputs">
        <!-- 7 participant input fields will be generated here -->
      </div>
    </section>
    
    <main class="calendar-main">
      <div class="calendar-grid" id="calendarGrid">
        <!-- Calendar days will be generated here -->
      </div>
    </main>
    
    <aside class="summary-panel">
      <h2>Top 3 Dates</h2>
      <div class="top-dates" id="topDates">
        <!-- Top dates will be calculated and displayed here -->
      </div>
    </aside>
    
    <footer class="app-actions">
      <button id="saveBtn" class="action-btn primary">Save Selections</button>
      <button id="clearBtn" class="action-btn secondary">Clear All</button>
      <button id="exportBtn" class="action-btn secondary">Export Summary</button>
      <button id="importBtn" class="action-btn secondary">Import Data</button>
    </footer>
  </div>
  
  <!-- Firebase SDK - Modern Modular Version -->
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getDatabase } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";
    
    try {
      console.log('Loading Firebase SDK...');
      console.log('Firebase modules imported successfully');
      
      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyBNEGMwnn075RYYxXc9NQNCGoYtrhq_Q_0",
        authDomain: "monthlycalendartracker.firebaseapp.com",
        databaseURL: "https://monthlycalendartracker-default-rtdb.firebaseio.com",
        projectId: "monthlycalendartracker",
        storageBucket: "monthlycalendartracker.firebasestorage.app",
        messagingSenderId: "151202130765",
        appId: "1:151202130765:web:563379d60ebb44a0bce504",
        measurementId: "G-E3RBH9FV5Q"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      console.log('Firebase initialized successfully with modern SDK');

      // Get a reference to the database service
      const database = getDatabase(app);
      console.log('Database reference created successfully');

      // Make Firebase available globally for the calendar app
      window.firebase = { app, database };
      window.database = database;
      
      // Signal that Firebase is ready
      window.firebaseReady = true;
      console.log('Firebase ready for calendar app');
    } catch (error) {
      console.error('Firebase initialization error:', error);
      window.firebaseReady = false;
      window.database = null;
    }
  </script>
  <script src="calendar.js"></script>
</body>
</html> 